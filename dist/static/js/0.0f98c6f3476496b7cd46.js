webpackJsonp([0],{LBuR:function(t,e){},yKLo:function(t,e,n){"use strict";var a=n("OK1g"),s={name:"allArticle",props:["type","passages"],data:function(){return{publish:!0}},mounted:function(){},methods:{toggleState:function(t){var e=this,n="发表"==t.state?"草稿":"发表";1==confirm("确定将其设为 "+n+" 状态吗?")&&a.a.changeStateBack(t.id,n).then(function(a){switch(a.code){case"200":t.state=n,console.log(t.state),console.log(e.passages);break;case"400":alert("服务器开小差了！文章状态修改失败")}},function(t){console.log(t)})},goModify:function(t){t.id;this.$router.push({name:"modify",params:{id:t.id}})},goNew:function(){this.$router.push({name:"newArticle",params:{type:this.type}})},delArticle:function(t,e){var n=this;if(1==confirm("确认删除该篇文章吗？")){var s=t.id;a.a.delArticleBack(s).then(function(t){switch(t.code){case"200":n.passages.splice("index",1),alert("删除成功！");break;case"400":alert("服务器开小差了，删除失败")}},function(t){console.log(t)})}}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"allArticle"},[n("div",{staticClass:"head"},[t._v(t._s(t.type))]),t._v(" "),n("div",{staticClass:"content"},[n("button",{staticClass:"new",on:{click:t.goNew}},[t._v("\n            写新文章\n        ")]),t._v(" "),n("table",{attrs:{width:"100%"}},[t._m(0),t._v(" "),n("tbody",t._l(t.passages,function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(e.title))]),t._v(" "),n("td",[t._v(t._s(e.time))]),t._v(" "),n("td",t._l(e.tags,function(e){return n("span",{staticClass:"tag"},[t._v("#"+t._s(e)+" ")])}),0),t._v(" "),n("td",[n("button",{directives:[{name:"show",rawName:"v-show",value:"草稿"==e.state,expression:"passage.state=='草稿'"}],staticClass:"publish",on:{click:function(n){return t.toggleState(e)}}},[t._v("发布")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:"发表"==e.state,expression:"passage.state=='发表'"}],staticClass:"save",on:{click:function(n){return t.toggleState(e)}}},[t._v("设为草稿")]),t._v(" "),n("button",{staticClass:"modify",on:{click:function(n){return t.goModify(e)}}},[t._v("修改")]),t._v(" "),n("button",{staticClass:"del",on:{click:function(n){return t.delArticle(e,a)}}},[t._v("删除")])])])}),0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("文章标题")]),this._v(" "),e("th",[this._v("发布时间")]),this._v(" "),e("th",[this._v("标签")]),this._v(" "),e("th",[this._v("操作")])])])}]};var o=n("VU/8")(s,i,!1,function(t){n("LBuR")},"data-v-104e4268",null);e.a=o.exports},yt7g:function(t,e,n){"use strict";e.a={getCurrentDate:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return n<10&&(n="0"+n),a<10&&(a="0"+a),e+"-"+n+"-"+a},throttle:function(t,e,n){var a=void 0,s=new Date;return function(){var i=new Date;i-s>=e?(t(),s=i):(clearTimeout(a),a=setTimeout(function(){t()},n))}},getCategoryById:function(t){var e=void 0;return window.categoryArr&&window.categoryArr.length?(window.categoryArr.forEach(function(n){t==n.id&&(e=n)}),e):{name:"未知"}}}}});